<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rentenbefreiung</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;line-height:1.45;margin:1.5rem;background:#f7f7fb;color:#1b1b1f}
    h1{font-size:1.4rem;margin-bottom:.8rem}
    .layout{display:grid;grid-template-columns:220px 1fr;gap:1rem}
    .sidebar{background:white;border:1px solid #e6e6ef;border-radius:10px;padding:.75rem;height:calc(100vh - 3rem);position:sticky;top:1.5rem}
    .nav-title{font-size:.9rem;color:#666;margin:0 0 .5rem}
    .nav{display:flex;flex-direction:column;gap:.25rem}
    .nav a{display:block;text-decoration:none;color:#1b1b1f;padding:.5rem .6rem;border-radius:8px;border:1px solid transparent;font-size:.95rem}
    .nav a:hover{background:#f3f6ff;border-color:#e1e7ff}
    .nav a.is-active{background:#f0f6ff;border-color:#cfe1ff;color:#0b63c7;box-shadow:0 0 0 2px rgba(59,130,246,.1) inset}
    .content{min-width:0}
    .grid-1col{display:grid;gap:.75rem;grid-template-columns:minmax(260px, 720px)}
    .card{background:white;border:1px solid #e6e6ef;border-radius:10px;padding:.75rem;transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease}
    .card h2{font-size:1rem;margin:0 0 .4rem}
    .card:hover{border-color:#cfd8ff}
    .card:focus-within,
    .card.is-active{border-color:#93c5fd;box-shadow:0 0 0 3px rgba(59,130,246,.15);background:#f8fbff}
    form{display:flex;flex-direction:column;gap:.5rem}
    label{font-size:.92rem;color:#333}
    input[type=text], input[type=file]{padding:.45rem .5rem;border:1px solid #cfcfe6;border-radius:7px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
    button{background:#3b82f6;color:white;border:none;padding:.55rem .85rem;border-radius:7px;cursor:pointer;font-size:.95rem}
    button:hover{background:#2563eb}
    footer{margin-top:2rem;color:#666;font-size:.9rem}
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="nav-title">Men√º</div>
      <nav class="nav">
        <a href="/transaktion">Transaktion</a>
        <a href="/mention">Mention</a>
        <a href="/telematik">Telematik</a>
        <a href="/rentenbefreiung" class="is-active">Rentenbefreiung</a>
        <a href="/logout">Ausloggen</a>
      </nav>
    </aside>
    <main class="content">
      <section aria-labelledby="rentenbefreiung-title">
        <h1 id="rentenbefreiung-title">Rentenbefreiung: PDF aus Excel-Vorlage erzeugen</h1>
        <div class="grid-1col">
          <div class="card">
            <h2>Eingaben</h2>
            <form action="/rentenbefreiung/process" method="post" enctype="multipart/form-data">
              <div class="row">
                <label>Familienname
                  <input type="text" name="familienname" required>
                </label>
                <label>Vorname
                  <input type="text" name="vorname" required>
                </label>
              </div>
              <div class="row">
                <label>Rentenversicherungsnr
                  <input type="text" name="rvnr" required>
                </label>
                <label>Ort
                  <input type="text" name="ort" value="Solingen">
                </label>
              </div>
              <div class="row">
                <label>Aktuelles Datum (TT.MM.JJJJ, leer = heute)
                  <input type="text" name="aktuelles_datum" placeholder="TT.MM.JJJJ">
                </label>
                <label>Befreiung beginnt am (TT.MM.JJJJ)
                  <input type="text" name="beginn_befreiung" placeholder="TT.MM.JJJJ" required>
                </label>
              </div>
              <label>Excel-Vorlage (.xlsx/.xlsm/.xls)
                <input type="file" name="excel" accept=".xlsx,.xlsm,.xls" required>
              </label>
              <label>Unterschriftsbild (optional)
                <input type="file" name="signature" accept=".png,.jpg,.jpeg,.bmp,.gif">
              </label>
              <button type="submit">Erzeugen & Herunterladen (Excel)</button>
            </form>
          </div>
        </div>
      </section>
      <footer>
        <p>Hinweis: Die Excel-Datei wird im Browser heruntergeladen. Es werden keine Dateien auf dem Server gespeichert.</p>
      </footer>
    </main>
  </div>
  <script>
    (function(){
      function setActiveCard(cardEl){
        document.querySelectorAll('.card').forEach(function(c){ c.classList.remove('is-active'); });
        if (cardEl) cardEl.classList.add('is-active');
      }
      document.querySelectorAll('.card').forEach(function(card){
        card.addEventListener('click', function(){ setActiveCard(card); });
        const form = card.querySelector('form');
        if (form){
          form.addEventListener('focusin', function(){ setActiveCard(card); });
        }
      });
    })();
  </script>
</body>
</html>


